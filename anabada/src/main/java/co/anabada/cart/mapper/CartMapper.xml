<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="co.anabada.cart.mapper.CartMapper">

	<select id="cartList" resultType="cart">
		SELECT c.cart_id AS cartId
				,c.cart_status AS cartStatus
				,i.item_num AS itemNum
				,i.item_name AS itemName
				,i.item_price AS itemPrice
				,i.item_image  AS itemImage
				,m.member_num AS memberNum
				,m.member_name AS memberName
		FROM cart c
				JOIN member m ON c.member_num = m.member_num
				JOIN item i ON m.member_num = i.item_num
	</select>

	<insert id="insertCart" parameterType="cart">
		INSERT INTO cart(member_num
					,item_num
					,cart_status)
		VALUES (#{memberNum}
				,#{itemNum}
				,#{cartStatus})
	</insert>

	<delete id="deleteCart" parameterType="string">
		DELETE cart
		WHERE cart_id =#{cartId}
	
	</delete>

</mapper>